<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <title><!--(auto-fill by runme.js--></title>

    <!-- ChiliPeppr is based on bootstrap CSS. -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">

    <!-- Customized version of require.js for ChiliPeppr. Please see require.js docs for how
    ChiliPeppr's dependency system works as it's based on require.js. -->
    <script type='text/javascript' src="//i2dcui.appspot.com/js/require.js"></script>

    <!-- widget.css DON'T REMOVE -->
    <style type='text/css'>
        /* widget.css will get inlined here by runme.js. don't remove this comment or inlining will fail. */
    </style>
    <link rel="stylesheet" type="text/css" href="widget.css">
    <!-- DON'T REMOVE end widget.css -->

    <!-- widget.js DON'T REMOVE -->
    <script type='text/javascript'>
        //<![CDATA[
        /* widget.js will get inlined here by runme.js. don't remove this comment or inlining will fail. */
        //]]>
    </script>
    <script type='text/javascript' src="widget.js"></script>
    <!-- DON'T REMOVE end widget.js -->

</head>

<body>
    <div id="com-zipwhip-widget-texterator" class="panel panel-default">
        
        <div class="panel-heading ">

            <div class="btn-toolbar pull-right" role="toolbar">
                <div class="btn-group">
                    <button type="button" class="btn btn-xs btn-default btn-screensaver">Screensaver</button>
                    <button type="button" class="btn btn-xs btn-default btn-refreshqueue">Refresh Queue</button>
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-xs btn-default hidebody"><span class="glyphicon glyphicon-chevron-up"></span>
                    </button>
                </div>
                <div class="btn-group">
                    <div class="dropdown">
                        <button type="button" class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu"></ul>
                    </div>
                </div>
            </div> <span class="panel-title" data-toggle="popover">Texterator</span> <span style="font-size:9px;" class="fb-build hidden">v1</span>

        </div>
        <div class="panel-body">
            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist">
                <li class="xactive"><a href="#com-zipwhip-widget-texterator-tab-queue" role="tab" data-toggle="tab">Queue</a></li>
                <li class="xactive"><a href="#com-zipwhip-widget-texterator-tab0" role="tab" data-toggle="tab">Users</a></li>
                <li class="active"><a href="#com-zipwhip-widget-texterator-tabStatus" role="tab" 
                data-toggle="tab">Status</a></li>
                <li class="xactive"><a href="#com-zipwhip-widget-texterator-tab1" role="tab" data-toggle="tab">Machine</a></li>
                <!--<li><a href="#com-zipwhip-widget-texterator-tab2" role="tab" data-toggle="tab">Tap</a></li>-->
                <li class="xactive"><a href="#com-zipwhip-widget-texterator-tab3" role="tab" data-toggle="tab">Cam</a></li>
                <li><a href="#com-zipwhip-widget-texterator-tab4" role="tab" data-toggle="tab">Laser</a></li>
            </ul>
            <!-- Tab panes -->

            <div class="tab-content">

                <!-- Tab Queue -->
                <div class="tab-pane xactive" id="com-zipwhip-widget-texterator-tab-queue">
                    <table class="table table-condensed table-queue">
                        <tr><th>Phone</th><th>Beers</th><th>Slot</th><th>Status</th></tr>
                        <tr><td>734-576-3936</td><td>0</td><td>-</td><td>Waiting...</td></tr>
                        <tr><td>313-414-7502</td><td>0</td><td>-</td><td>Waiting...</td></tr>
                        <tr><td>206-555-1234</td><td>1</td><td>7</td><td>Beer pouring...</td></tr>
                        <tr><td>425-323-5542</td><td>3</td><td>6</td><td>Lasering...</td></tr>
                        <tr><td>425-934-0909</td><td>2</td><td>5</td><td>Cup pickup...</td></tr>
                        <tr><td>206-221-8845</td><td>1</td><td>4</td><td>Cup pickup...</td></tr>
                        <tr><td>206-900-3244</td><td>2</td><td>3</td><td>Cup gone</td></tr>
                        <tr><td>206-878-8880</td><td>1</td><td>2</td><td>Cup gone</td></tr>
                        <tr><td>206-747-7700</td><td>1</td><td>1</td><td>Cup gone</td></tr>
                        <tr><td>206-434-5684</td><td>1</td><td>0</td><td>Cup gone</td></tr>
                        <tr><td>206-344-1011</td><td>1</td><td>7</td><td>Cup gone</td></tr>
                    </table>
                    <button type="button" class="btn xbtn-xs btn-default btn-wipe">Wipe Queue</button>
                        
                </div>

                <!-- Tab 0. Users. -->
                <div class="tab-pane xactive" id="com-zipwhip-widget-texterator-tab0">
                    <table class="table table-condensed table-users">
                        <tr><th>Phone</th><th>Beers</th><th>Last Beer</th></tr>
                        <tr><td>313-414-7502x</td><td>1</td><td>3/13/16 11:07AM</td></tr>
                    </table>
                </div>
                
                <!-- Tab Status. -->
                <div class="tab-pane active" id="com-zipwhip-widget-texterator-tabStatus">
                    <table class="table table-condensed table-status">
                        <tr><th>Slots</th><th>Main</th><th>Table</th><th>Table Block</th><th>Index</th><th>Laser</th><th>e_type</th></tr>
                        <tr>
                            <td class="slots">0,0,0,0,0,0,0,0</td>
                            <td class="main_state">-</td>
                            <td class="table_state">-</td>
                            <td class="table_block">-</td>
                            <td class="index">-</td>
                            <td class="laser_state">-</td>
                            <td class="etype">-</td>
                        </tr>
                    </table>
                    <table class="table table-condensed table-slotstatus">
                        <tr><th>Slot</th><th>Status</th><th>QueueId</th><th>Phone</th></tr>
                        <tr><td>1</td><td></td></tr>
                        <tr><td>2</td></tr>
                        <tr><td>3</td></tr>
                        <tr><td>4</td></tr>
                        <tr><td>5</td></tr>
                        <tr><td>6</td></tr>
                        <tr><td>7</td></tr>
                        <tr><td>8</td></tr>
                    </table>
                </div>


                <!-- Tab 1. Machine. Lazy susan. -->
                <div class="tab-pane xactive" id="com-zipwhip-widget-texterator-tab1">
                    <!--<p>This is the content of tab 1.</p>-->
                    <div class="">
                        <button type="button" class="btn xbtn-xs btn-default btn-advlazysusan">
                            <span class="glyphicon glyphicon-arrow-right"></span>
                            Advance Lazy Susan
                        </button>
                        <button type="button" class="btn xbtn-xs btn-default btn-pourbeer">
                            Pourbeer
                        </button>
                        <button type="button" class="btn xbtn-xs btn-default btn-laserdone">
                            Laserdone
                        </button>
                        <button type="button" class="btn xbtn-xs btn-default btn-tloff">
                            Table Lock Off
                        </button>
                        <button type="button" class="btn xbtn-xs btn-default btn-tlon">
                            Table Lock On
                        </button>
                        <p style="margin:6px 0 0 0">Send Raw Serial Command</p>
                        <input class="form-control rawserial" placeholder="Enter Serial Command" />
                        <!--<button type="button" class="btn xbtn-xs btn-default btn-helloworld2"><span class="glyphicon glyphicon-arrow-right"></span></button>-->
                    </div>
                </div>

                <!-- Tab 2 -->
                <div class="tab-pane" id="com-zipwhip-widget-texterator-tab2">
                    <!--<p>This is the content of tab 2.</p>-->
                    <div class="btn-group">
                        <button type="button" style="font-size:11px;" class="btn xbtn-xs btn-default btn-helloworld2">Run Sequence</button>
                        <button type="button" style="font-size:11px;" class="btn xbtn-xs btn-default btn-helloworld2">Open Valve</button>
                        <button type="button" style="font-size:11px;" class="btn xbtn-xs btn-default btn-helloworld2">Close Valve</button>
                    </div>                    
                </div>

                <!-- Tab 3. Cam -->
                <div class="xactive tab-pane" id="com-zipwhip-widget-texterator-tab3">
                    
                    <video id="com-zipwhip-texterator-uservideo" class="uservideo" style="width:300px;" autoplay="false" controls="true"></video>
                    
                    <button type="button" class="btn xbtn-xs btn-default btn-takepic">Take Picture</button>
                    <button type="button" class="btn xbtn-xs btn-default btn-mms">Send MMS</button>

                    <p>Canvas</p>
                    <canvas id="com-zipwhip-texterator-uservideo-canvas"></canvas>
                    <p>Logo</p>
                    <img id="com-zipwhip-texterator-uservideo-logo" xclass="workspace-img" crossOrigin="Anonymous" src="//i2dcui.appspot.com/slingshot?url=https://github.com/chilipeppr/workspace-texterator/raw/master/logo.png">
                    <p>Photo</p>
                    <img id="com-zipwhip-texterator-uservideo-photo"></img>
                </div>

                <!-- Tab 4. Laser -->
                <div class="tab-pane" id="com-zipwhip-widget-texterator-tab4">
                    <!--<p>This is the content of tab 3.</p>-->
                    <form class="form-inline">
                        <div class="form-group">
                            <div class="input-group">
                                <input type="text" class="form-control lasertxt" xstyle="margin-bottom:5px;" placeholder="Enter text to laser" />
                                <div class="input-group-addon" style="padding:0;">
                                    <button type="button" xstyle="border-radius:0; border:0;" class="btn btn-default btn-laserit">Laser It</button>
                                </div>
                            </div>
                        </div>
                    </form>
                    <div class="btn-group" role="group" aria-label="">
                        <button type="button" class="btn xbtn-xs btn-default btn-laserleft"><span class="glyphicon glyphicon-arrow-left"></span> <span style="font-size:11px;">Rotate Left 10mm</span></button>
                        <button type="button" class="btn xbtn-xs btn-default btn-laserright"><span class="glyphicon glyphicon-arrow-right"></span> <span style="font-size:11px;">Rotate Right 10mm</span></button>
                        <button type="button" class="btn xbtn-xs btn-default btn-laserhome"><span class="glyphicon glyphicon-home"></span></button>
                    </div>
                </div>

            </div>

        </div>
        
        <div class="serialconnectmodal modal fade" tabindex="-1" role="dialog">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Connect Serial Ports</h4>
              </div>
              <div class="modal-body">
                <h3 style="margin-top: 0;margin-bottom: 20px;">We need to connect the Texterator Arduino serial port and the Texterator TinyG serial port.</h3>
                
                <p class="spjs-errmsg spjs-notconnected hidden">
                    It looks like you have not connected to the local Serial 
                    Port JSON Server. Make sure the server is running and that you have connected to localhost 
                    in the Serial Port JSON Server in the lower right corner.<br><br>
                    
                    To get the server running there is an icon on the desktop labeled "Step 1 Run" and that will launch
                    SPJS for you. It's a mini server that runs in the background.<br><br>
                    
                    Then, once SPJS is running, you have to connect to it in the lower right corner widget in the "Your
                    Servers" tab. Connect to localhost and it should then show a list of serial ports to you which includes
                    COM3 (Arduino) and COM5 (TinyG).<br><br>
                    
                    To get this dialog back just reload the whole browser window after you connect to SPJS in the widget 
                    in the lower right. Then we'll check again for you if you're truly connected. If you are we can 
                    then move to the next step which is to connect to COM3 and COM5.
                </p>

                <p class="spjs-errmsg spjs-no2ports hidden">
                    Uh oh. It looks like you are connected to SPJS, but we don't see port COM3 (Arduino) or COM5 (TinyG) which is 
                    what we expect to have. Is the USB cable from Texterator plugged into this computer? Or
                    does the Texterator have power?<br><br>
                    
                    If the USB cable isn't plugged in to this computer then we can't see the Texterator's two USB
                    devices. Plug in the USB cable and then reload the browser.<br><br>
                    
                    If the Texterator has no power then the USB hub isn't fired up, nor are the two serial devices 
                    inside the Texterator. Power up the Texterator and then reload this browser window again.<br><br>
                    
                </p>
                
                <p class="spjs-errmsg spjs-connect2ports hidden">
                    It looks like you are not connected to the two serial ports that we need for Texterator to function
                    correctly.<br><br>
                    
                    The Arduino has historically been on COM3 while the TinyG has been on COM5, so we can attempt 
                    to connect those ports for you by clicking the button below.
                    <button class="btn btn-default btn-connect2ports">Connect COM3 (Arduino) and COM5 (TinyG)</button>
                
                    <span class="spjs-maybegood hidden"><br><br>If you see the two ports connected in lower right corner, you are good to go.
                    Just dismiss this dialog and send in your first text message with word "beer".</span>
                </p>
                
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <!--<button type="button" class="btn btn-primary">Save changes</button>-->
              </div>
            </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
        
    </div>
    <div id="com-zipwhip-widget-texterator-screensaver" class="hidden" style="">
        <!--<img class="screensaver-img" src="https://github.com/chilipeppr/workspace-texterator/raw/master/logo.png">-->
        <div class="screensaver-container">
            <div class="screensaver-logo"></div>
            <p class="calltoaction xhidden">
                <span class="cta-nbsp">&nbsp;</span>
                Text 
                <span class="cta-beer cta-hilite anim1">Beer</span> 
                to 
                <span class="cta-phone cta-hilite anim2">(844) 947-5000</span>
                <span class="cta-nbsp">&nbsp;</span>
            </p>
        </div>
        <div class="centering-container">
            <!--<p class="calltoaction hidden">-->
            <!--    Text -->
            <!--    <span class="cta-beer cta-hilite anim1">Beer</span> -->
            <!--    to -->
            <!--    <span class="cta-phone cta-hilite anim2">(844) 947-5000</span>-->
            <!--</p>-->
            <p class="pickup-headline hidden zipIn">
                <span class="pickup-phone">(734) 718-0067</span><br>
                <span class="pickup-text">Your beer is ready for pickup!</span>
            </p>
            <div class="campreview hidden">
                <video id="com-zipwhip-texterator-screensaver-video" class="screensaver-video" autoplay="true" controls="true"></video>
                <!--<canvas id="com-zipwhip-texterator-screensaver-canvas"></canvas>-->
                <div class="snap-step snap-step0 countdownAnim"><span class="snap-step-phone">(xxx) xxx-xxxx</span><br>Get ready for your<br>photo to be snapped!</div>
                <div class="snap-step snap-step1 countdownAnim">3</div>
                <div class="snap-step snap-step2 countdownAnim">2</div>
                <div class="snap-step snap-step3 countdownAnim">1</div>
            </div>
            <div class="camphoto hidden">
                <img id="com-zipwhip-widget-texterator-screensaver-photo" class="camphoto-img zipIn" src="https://preview.c9users.io/chilipeppr/widget-texterator/samplecam.png"></img>
            </div>
        </div>
        <button type="button" class="close2" aria-label="Close"><span>&times;</span></button>
        <div class="givemeacup well hidden" style="position:absolute;top:0px;xwidth:100%;margin:20px;font-size:40px;background-color:red;">
            Please place a cup in slot 0! Somebody wants a beer.
        </div>
    </div>
    

</body>

</html>
